
# Homework46
# Chingpo Lin

----

## 2. Document the microservice architeture and components/tools/dependencies
 
- API Gateway
- Service Discovery
- Load Balancing

---

## 3. What are Resilience patterns? What is circuit breaker?

- Resilience patterns are design principles and practices that help software systems maintain stability and availability in the face of failures and unexpected conditions.
- A circuit breaker is a resilience pattern used to manage and mitigate the impact of failures in distributed systems.

---

## 4. Read this article, then list the important questions, then write your answers

- What are the benefits and drawbacks of Microservices?
  - A greater degree of scalability and agility.
  - Simplicity in debugging & maintenance  
  - Due to the complexity of the architecture, testing and monitoring are more difficult.
- What is the role of actuator in spring boot?
  - A spring boot actuator is a project that provides restful web services to access the current state of an application that is running in production
    
---

## 5. how to do load balance in microservice? Write a long Summary by yourself.

load balancing is a foundational component of microservices architecture, promoting availability, scalability, and efficient resource utilization. By employing diverse strategies and techniques, organizations can ensure that their microservices-based applications deliver optimal performance and a seamless user experience, even in the face of varying workloads and changing conditions.

---

## 6. How to do service discovery?

we can implement service discovery using Spring Cloud Netflix Eureka
add spring-cloud-starter-netflix-eureka-server in eureka and spring-cloud-starter-netflix-eureka-client in client

---

## 7. What are the major components of Kafka?

- broker: like server
- topic: topic
- partition: multiple partition inside topic
- producer: produce message
- consumer: consume msg
- consumer group: one partition can only be consumed by only one consumer inside one consumer group
- offset: keep track msg by consumer
- zookeepermanage cluster and leader election

---

## 8. What do you mean by a Partition in Kafka?

a partition is a fundamental concept that enables the distribution and parallel processing of data within a topic. A topic is divided into multiple partitions, each acting as an ordered and immutable sequence of records. Partitions are a critical aspect of Kafka's scalability, fault tolerance, and efficient message processing.

---

## 9. What do you mean by zookeeper in Kafka and what are its uses?

ZooKeeper is a centralized open-source service that is often used for maintaining configuration information, naming, providing distributed synchronization, and providing group services in distributed systems.

---

## 10. Can we use Kafka without Zookeeper?

after 2.8 version, yes

---

## 11. Explain the concept of Leader and Follower in Kafka.

The Leader is a replica that plays a critical role in managing the read and write operations for a partition  
Follower replicas are replicas that replicate data from the Leader. They play a significant role in ensuring data availability, fault tolerance, and the ability to continue operations even in the face of failures.

---

## 12. Why is Topic Replication important in Kafka? What do you mean by ISR in Kafka?

Topic replication is a fundamental aspect of Kafka's architecture that contributes to its reliability, fault tolerance, and data availability.  
In a Kafka cluster, not all replicas are treated the same. Kafka introduces the concept of In-Sync Replicas (ISRs) to ensure that replicas are reliable and up-to-date

---

## 13. What do you understand about a consumer group in Kafka?

A consumer group is a fundamental concept in Apache Kafka that allows multiple consumers to work together to consume and process messages from one or more Kafka topics. Consumer groups provide several benefits, such as load distribution, parallel processing, and fault tolerance, making them an essential component for building scalable and efficient data processing applications.

---

## 14. How do you start a Kafka server?

- ./bin/zookeeper-server-start.sh config/zookeeper.properties
- ./bin/kafka-server-start.sh config/server.properties
- ./bin/kafka-topics.sh --create --topic my-topic --partitions 3 --replication-factor 2 --zookeeper localhost:2181
- ./bin/kafka-console-producer.sh --broker-list localhost:9092 --topic my-topic

---

## 15. Tell me about some of the real-world usages of Apache Kafka

- Uber uses Kafka to power its real-time analytics and monitoring platform.

---

## 16. Describe partitioning key in Kafka.

When you produce a message to a Kafka topic, you can specify a partitioning key.
The partitioning key is usually a piece of data that uniquely identifies a category, entity, or context relevant to the message. It could be an ID, timestamp, user ID, or any other relevant attribute.
Kafka uses the partitioning key to determine which partition the message should be written to.

---

## 17. What is the purpose of partitions in Kafka?

- Scalability and Parallelism
- Load Distribution
- Ordered Message Delivery within Partitions
- Fault Tolerance and Data Replication

---

## 18. Differentiate between Rabbitmq and Kafka

- Messaging Model:
  RabbitMQ: Follows the traditional message queuing model where producers send messages to queues, and consumers read messages from those queues.  
  Kafka: Follows the publish-subscribe model. Producers publish messages to topics, and consumers subscribe to topics to receive messages.
- Use Cases:
  RabbitMQ: Ideal for traditional message queuing scenarios, where reliable message delivery and order are critical. Suitable for applications requiring work queues and task distribution.  
  Kafka: Best suited for real-time streaming and event-driven architectures. Used for processing high-throughput, real-time data streams, such as log aggregation, event sourcing, and stream processing.
  
---

## 19. What are the guarantees that Kafka provides?

- Kafka ensures that messages published to topics are durably stored and not lost, even in the event of broker failures.
- Kafka maintains consumer offsets, allowing consumers to keep track of their position in the data stream. 

---

## 20. What do you mean by an unbalanced cluster in Kafka? How can you balance it?

An unbalanced cluster in Apache Kafka refers to a situation where the distribution of partitions and replicas across brokers is uneven. In other words, some brokers might have significantly more partitions or replicas compared to others, leading to potential performance issues, resource imbalances, and increased risk of failures.  

Use Reassignment Tool can rebalance

---

## 25. What is offset?

In the context of Apache Kafka, an "offset" refers to a unique identifier assigned to each message within a partition.





